<launch>

  <arg name="model" default="$(find wpb_home_bringup)/urdf/wpb_home.urdf"/>
  <arg name="gui" default="false" />
  <arg name="rvizconfig" default="$(find wpb_home_tutorials)/rviz/follow.rviz" />

  <param name="robot_description" command="$(find xacro)/xacro $(arg model)" />
  <param name="use_gui" value="$(arg gui)"/>

  <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
  <rosparam command="load" file="$(find wpb_home_bringup)/config/wpb_home.yaml" />
  </node>
  <!-- <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" />
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(arg rvizconfig)" required="true" /> -->

  <!-- Run wpb_home core -->
  <node pkg="wpb_home_bringup" type="wpb_home_core" name="wpb_home_core">
    <param name="serial_port" type="string" value="/dev/ftdi"/> 
    <rosparam file="$(find wpb_home_bringup)/config/wpb_home.yaml" command="load" />
  </node>

  <!-- hd key_point_detecyion -->
  <!-- <node name="key_point_detection" pkg="wpb_home_tutorials" type="key_point_detection.py"></node> -->
  <node name="publisher" pkg="vision" type="publisher.py" output="screen"></node>
  <node name="vision_show" pkg="vision" type="vision_show.py" output="screen"></node>
  <node name="detect_commodity" pkg="vision" type="detect_commodity.py" output="screen"></node>

  <node pkg="wpb_home_bringup" type="grab_test" name="grab_test">
    <param name="serial_port" type="string" value="/dev/ftdi"/> 
  </node>

  <!--Run voice -->
  <include file="$(find voice)/launch/voice.launch" />


</launch>
